<section class="bg-main-light shadow w-75 my-3 p-2 mx-auto">
    <h1 class="text-main">Login Now :</h1>
    @if(responseMessage){
        <p class="alert alert-danger p-2 my-2 w-50 mx-auto text-center">{{responseMessage}}</p>
    }
    <form [formGroup]="loginForm" (ngSubmit)="loginUser()">
        <div class="my-2">
            <label for="email">Email :</label>
            <input [ngClass]="{
                'is-valid' : !loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty),
                'is-invalid' : loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)
            }" formControlName = "email" type="email" id="email" class="form-control">
            @if(loginForm.get("email")?.errors && loginForm.get("email")?.touched){
                <div class="alert alert-warning my-2 p-2">
                    @if(loginForm.get("email")?.getError("required")){
                        <p class="m-0">Email is Required</p>
                    }
                    @else if(loginForm.get("email")?.getError("email")){
                        <p class="m-0">Email Format is Not Correct</p>
                    }
                </div>
            }
        </div>
        <div class="my-2">
            <label for="password">Password :</label>
            <input [ngClass]="{
                'is-valid' : !loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
                'is-invalid' : loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)
            }" formControlName="password" type="password" id="password" class="form-control">
            @if(loginForm.get('password')?.errors && loginForm.get('password')?.touched){
                <div class="alert alert-warning my-2 p-2">
                    @if(loginForm.get('password')?.getError('required')){
                        <p class="m-0">Password is Required</p>
                    }
                    @else if(loginForm.get('password')?.getError('pattern')){
                        <p class="m-0">Password must be at least 6</p>
                    }
                </div>
            }
        </div>
        <div class="text-center my-2">
            <button [disabled]="loginForm.invalid" type="submit" class="btn-main">
                Login
                @if(loading){
                    <span><i class="fa-solid fa-spinner fa-spin"></i></span>
                }
            </button>
        </div>
    </form>
</section>